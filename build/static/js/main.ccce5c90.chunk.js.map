{"version":3,"sources":["resources/sound.png","resources/mute.png","resources/microphone.png","resources/music.png","resources/soundtrack.mp3","soundsphere/audioplayer.js","soundsphere/index.js","app.js","index.js"],"names":["module","exports","__webpack_require__","p","AudioPlayer","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","musicLoaded","liveInput","soundOn","toggleSound","bind","assertThisInitialized","toggleSoundInput","analyser","getFrequencyData","gain","soundToggle","setState","value","liveSource","createLiveSource","connect","musicInput","animator","onReady","createMediaSource","Soundtrack","source","element","loop","startTime","start","onStart","_this2","onPause","pause","onResume","resume","onStop","stop","createGain","createAnalyser","destination","fetchSource","_this$state","react_default","a","createElement","id","className","ClassNames","show","src","Sound","Mute","alt","onClick","Music","Microphone","Component","BAR_COUNT","Matrix","Matrix4","isTouchDevice","window","navigator","MaxTouchPoints","msMaxTouchPoints","Soundsphere","Animator","animate","onMouseMove","onMouseOut","onDO","onDM","onMO","scene","Scene","camera","PerspectiveCamera","position","z","add","group","Group","meshes","i","y","Math","random","PI","geometry","BoxGeometry","applyMatrix","makeTranslation","mesh","Mesh","MeshNormalMaterial","set","rotation","scale","push","rotationX","rotationY","width","height","timeDiff","audio","ascii","x","data","getAudioData","length","max","update","event","clientY","innerHeight","clientX","innerWidth","beta","_ref","gamma","tilt","e","_ref2","accelerationIncludingGravity","_ref3","_ref4","canvas","renderer","setClearColor","setCanvas","DeviceOrientationEvent","addEventListener","DeviceMotionEvent","document","removeEventListener","ref","w","wrapper","jw_three_canvas_lib_default","c","jw_canvas_ascii_lib_default","soundsphere_audioplayer","App","ready","interacted","setTimeout","isReady","soundsphere","_this3","s","render","src_app","getElementById"],"mappings":"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","file":"static/js/main.ccce5c90.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMWSURBVGhD7dlLqE1RHMfx65lXiDyjZEAyQF6lKEYYMFFkQpEJZcIlJW9JKaWMlKIoigwMRBITKaXklYEoeZQij8jz+9u1at1/66y912Vve9f51Wew11r3rv27zj57n6OjnXaalYE4jk94h51oXEbhPn4bK9GYqMRD2BJyFo3IaLQqIbdQ++SVkNoXUYlHCJ28r9ZFipaQ2hYZg6IlpJZFUktI7YqoxGOETjYmVmQOXuEEhmmg7IxFd0pIXpGv0LrXmIfS8jclJO+lNRk3obUqtQzdylBMNAZD0R37CezJpShyjfTGMWj9NyxE4QzHZdiNxf0TX0BoPkXKxe7K6LoZoYEi0TOQ3VR+og96Qk+xoTUpUopoz2vQz53RQJF8hN1U3kMZgtB8Kr/ITFzERvTXQCDj8AX6g07TQF5Cm0qZRbbCjT/DLIRyGFpzMjvKifuFVplFemAV7kFz2msqbPSG8wsf0E8DsdgNnTKLuPTFeWj+LlTQ5g40vyA7isTfzFdFEWUAXkJrlmjA5Cg0tyU7isTfzFdVEWU3tEYnbbMJrea6xN/MV2WRFdAa3a9sVkNzp7KjSPzNfFUWWQetCd0z1kJzeqCMxt/MV2WR09CabdlR17i36kPZUST+Zr6qiszAD3zHBA2YuCePNdlRJHZDp4oi8/EWmg9dzL2g5y3NT9JALP5mvjKLTMF1uLkr0D3FZjE0/yA7yon7ZVaZRXZAY5+xF3p8D+UGtC73HqI8h7+hoydeRd/jhuZT+UX0oLgU+iO1intLfoNBGsjLBthNHX3YUl4gNJ+i1cUeii56ffmtn1uvgaJZjnO4asyFshn2xFIVLaJPo0+hn7mkgX+dg7Anl6JIkelwL/Xb0HNYKTkAe4JFxYrobXYP9Dlda3WR6yN4qelumViRRdAa3RiPIPRWXEr2w55onlgRnfh2zM6OKs4+hE64laIX+39JSplaF1F0Zw6duFX7IorecUIn72tEESWvTGOKKO6zd4i+lm1UdiFURNdS49IJfbHmSujD0Ug0MvrPGz0F6OU2XgPttNO4dHT8AR1KHUa883P8AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAI6SURBVGhD7Zi7SgQxGEYXRRtBRcUb2GhjYa3gI9hY2tlpJWglWIh3wdbCVxBEBAsrS/UJBC9go42NgqClt+/bNRDCn8xk1wkJzIEDOxf4c3RndnYrJSVp0QYP4Ad8haswOfrgNfwxnIHJwIgbaEbQQ5gE/dAWQS9g9GRF0OhDGHELpcXrRh2SN4JGGzIA80bQKEN8I2h0IYy4g9JiXUYVMgjriaDRhDQSQYOFdMJhw3ZI+Il9D6UF5rXwkG54BqXhk5CcQOm4j4WH8BlIGvwFW2AT5FOsdI6PhYe8Q2nwGyQdUDruqxTCO2Br7aWTHthce2lHGkqLDhmFn/AScoaNBcjz9qpbDqShtOiQLvgEeewKSjGM+P5zljtcmAOVId5aI9AWo0cscUcW5kBliBAixXhHEHOgMlQI4WeWinmA3hHEHKgMGUIY8wLV+SvQC32YbugQ9XZS59tuAFb0YbohQ/RrYhdm3c1EzIHKUCHSha1fM4xRz3xOzIHKECGuu5N3jDlQWXTIGLRFKPRb8z53uDAHKosO4V/4GM5Vt+ww5hROVbccPEJpMJ94CX/HlY776rrY/4V5KA2m/LJF1L+3EQsPIdPwCJ4bTkCyCKXF+RgkJA+8v0sLzGs0IWQHSovMY1QhpN6Y6ELINpQW6zLKELIFpQXbjDaE+MREHUI2obRw0+hDyAaUFq+bRAjJikkmhKxDKYLyZ9mkWINSCK+l5FiG/J6hIp5hL0ySccinAL7dhrijpCQ5KpVfcpD6yzRGEiUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAFpOLgnAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAAd0SU1FB+IHFgMoMV7P1LMAAAK0SURBVGje7Zk9axRBGMd/uyFXKIE0JwiCncY7tNJCfAGNKfwCQb+A4HcQEbQ0JhBbv4HExhe8RsilkRgOyaUO2tgoyJkmyZm1eVaGyczuzs7s5Qj7h+F2Zp/3eebZZ/fAAQmwmXUzSSexspjijzZnQpPQ1UVGwjGbpdMNRisPIS4iJsX3TB1WRAVER86GmVTHlEBcIMxR3jasGW4mLvuWUCUaijmdIvuTZNHEPiGuniErlFPArs3ZJSVK6VoPeGBiaLpuZAKsKPO2rE3bnI40c3qy9rt0PsVUjEVgB+gDrdDCh1o81NEqW4Rcz2EUNG1969XxU+JUNIEF5XpWeL/kMXWF8LW2rheAfWDSx8DHCkOzAH23RAT+41nG+VDHrsErLzhbPJLsGju0pDDuAC+qUNCxbHgjlIJ2Rlbth1LSz0nf0v1msDJfl/payWiV7EnKTmlvmV4VWleyJb+XlbVXoT17KJZsWCzUx0LZZ42JcFLqVJaCN7L+qYiSr0K87RCBZpknZsqwWoD2lEL/yEXJtBaaGQvdiqNBxtfRvYLdylPfjLtj2PREaQCj0CleqoGrC2SNUF96loG/Oa3acuiXgJB4WbA2qGNp3JxYLOGE7aF0pBh4ODIIYUCoCp0ctR3HpjTWjtSO1I7UjgDwS6v55yx0Wx429C3r5zXdP30c+aDN71no5qW/csVQeE24r83f++zYWeCg4MtcA/uHQ9P4iP2D4gWN9gA445t+8wah13J4WtJDbUoLMpDr5+T/VXTd4PRcqLN0k8P/Y60S8BOtyOpqOoYFguaMCUvqbANXPeTeAL4Z5HaqrqongHcZud8DngC35DydlDED3JZ7vQz+t6JjpLgErHu08On4DFwchzY+xWngrqRLG7ii3V+X58aalPYfoRRHFe9YMip9da9VO1IR/gEnWVSkGraosQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAFpOLgnAAAABGdBTUEAALGPC/xhBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAAd0SU1FB+IHFgMpHAILuYcAAALtSURBVGje7Zo7aBRBGMd/d17QhENEIVFQRCsVC4OFgqLEgCIKNiKCoGBhQFKbRsHGFD4K0VZsBLWws1BiEVR8FFYiNooPAqJpNBFzkrtbi/tWxmH3dmZ35m43+Ifhbtmd+fb/vWfuwAKBelGOeeBG3M0S0Ge87DH9ho4e0iJIohCJR8Zrxy5RSqVo0xUC7Xu5HU0V15XFb2d6vYrpg0mOFOIEvjEEnLOdEACXbCeEY8R2QmCiqfO2qp0Ti5dMJ0T6YdSEfqBuYu2rQu4r8NgmusJxOClGmtq1UQRWIjz5Hyyy9LFtwBTwE3ju05EDoGZhRvMHNSwGGiKwAUz6EKKvsVux/BofQnRcdCVkTFyvFzjqyyYhasBdLbg/JWXqrCjZMhmWuFfD+U4ayRXLItXvivLJiIQUmbazogpMRyy+nYWCX2nUZRsndclVXoWE5eG0T3XNKE7wBtjiW0g4poEjvoWEY85nPQmxREqzVyEAKzshpOxKSEPSy3efLqz2iKulBQyN3/QhRDV6rBBXNqkBX+TTGxOvjYQzIVUPDcdfPJVUEXrOjLhvHYeGjMtRTmzyUBpqr/iW0Kk4YZLkDPfTlFIdy4GdbeZsdKWykQg1TaTY/iXuPMvKos00XUqnMC4Nxz1gWVGbzT1K31EHznQ7PaZFoMkZLioRPU72ArPANWBrkVxrKKGlnQfeA7d8W8s3EX00ZRP3AthcZCL6qAGnFgKRgNb541iegj0t+oDBPBEJgFfAx4xpvOtEmrQOD9cBS2UTeBb4ULQ6ovZcs8BL4AKwXvYivcB+4G0RiLTbpteAB8AmYG2eXcsGnyXjPQNuAqMmkyrkE5PAjqK5lhNkscguYJ/k+QFRyrycqUzg8WjKBa7IC9pWaO/7EVOLHKL1T44VedWwSYwMApcdkKh3m+xoSnfSj9NXdZvIBuBdBhI/pNDlAlUpTjYEfgPHO1WrSpbP90jTdwA4SOt3pQF56SngiTSHr6Wn+g9b/AExlzG/g9sS0gAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/soundtrack.f128f60f.mp3\";","import React, { Component } from \"react\";\nimport ClassNames from \"classnames\";\nimport PropTypes from \"prop-types\";\n\nimport Animator from \"jw-animator\";\nimport {\n  destination,\n  createLiveSource,\n  createMediaSource,\n  createAnalyser,\n  createGain,\n  getFrequencyData\n} from \"jw-audio\";\n\nimport Sound from \"../resources/sound.png\";\nimport Mute from \"../resources/mute.png\";\nimport Microphone from \"../resources/microphone.png\";\nimport Music from \"../resources/music.png\";\nimport Soundtrack from \"../resources/soundtrack.mp3\";\n\nimport \"./audioplayer.css\";\n\nconst TIMEOUT = 20000;\n\nclass AudioPlayer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { musicLoaded: false, liveInput: false, soundOn: true };\n\n    this.toggleSound = this.toggleSound.bind(this);\n    this.toggleSoundInput = this.toggleSoundInput.bind(this);\n  }\n\n  getAudioData() {\n    return this.analyser ? getFrequencyData(this.analyser) : [];\n  }\n\n  toggleSound() {\n    const { gain } = this.soundToggle;\n    const { soundOn } = this.state;\n\n    this.setState({ soundOn: !soundOn });\n\n    if (soundOn) {\n      gain.value = 0;\n    } else {\n      gain.value = 1;\n    }\n  }\n\n  async toggleSoundInput() {\n    const { liveInput } = this.state;\n\n    if (!this.liveSource) {\n      try {\n        this.liveSource = await createLiveSource();\n        this.liveSource.connect(this.liveInput);\n      } catch (error) {}\n    }\n\n    if (this.liveSource) {\n      this.liveInput.gain.value = liveInput ? 0 : 1;\n      this.musicInput.gain.value = liveInput ? 1 : 0;\n\n      this.setState({ liveInput: !liveInput });\n    }\n  }\n\n  async fetchSource() {\n    const { animator, onReady } = this.props;\n\n    try {\n      this.source = await createMediaSource(Soundtrack, TIMEOUT);\n      this.source.element.loop = true;\n      this.source.connect(this.musicInput);\n\n      if (animator.startTime > 0) {\n        this.source.start();\n      } else {\n        animator.onStart(() => this.source.start());\n      }\n\n      animator.onPause(() => this.source.pause());\n      animator.onResume(() => this.source.resume());\n      animator.onStop(() => this.source.stop());\n\n      this.setState({ musicLoaded: true });\n      onReady();\n    } catch (error) {\n      onReady();\n    }\n  }\n\n  componentDidMount() {\n    this.musicInput = createGain();\n    this.musicInput.gain.value = 1;\n    this.liveInput = createGain();\n    this.liveInput.gain.value = 0;\n    this.soundToggle = createGain();\n    this.analyser = createAnalyser();\n\n    this.liveInput.connect(this.analyser);\n    this.musicInput\n      .connect(this.soundToggle)\n      .connect(this.analyser)\n      .connect(destination);\n\n    this.fetchSource();\n  }\n\n  render() {\n    const { musicLoaded, liveInput, soundOn } = this.state;\n\n    return (\n      <div id=\"audio-player\">\n        {musicLoaded && (\n          <div id=\"audio-info\" className={ClassNames({ show: soundOn })}>\n            <span id=\"audio-title\">\n              Mirrorâ€™s Edge Soundtrack - Introduction\n            </span>\n            <span id=\"audio-author\">Solar Fields</span>\n          </div>\n        )}\n        {musicLoaded && (\n          <img\n            id=\"sound-toggle\"\n            src={soundOn ? Sound : Mute}\n            alt=\"Sound\"\n            onClick={this.toggleSound}\n          />\n        )}\n        <img\n          id=\"live-input-toggle\"\n          src={liveInput ? Music : Microphone}\n          alt=\"Sound input\"\n          onClick={this.toggleSoundInput}\n        />\n      </div>\n    );\n  }\n}\n\nAudioPlayer.propTypes = {\n  animator: PropTypes.instanceOf(Animator),\n  onReady: PropTypes.func\n};\n\nexport default AudioPlayer;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Scene,\n  PerspectiveCamera,\n  Group,\n  Matrix4,\n  BoxGeometry,\n  MeshNormalMaterial,\n  Mesh\n} from \"three\";\n\nimport Animator from \"jw-animator\";\nimport ThreeCanvas from \"jw-three-canvas\";\nimport CanvasASCII from \"jw-canvas-ascii\";\n\nimport AudioPlayer from \"./audioplayer\";\n\nimport \"./style.css\";\n\nconst BAR_COUNT = 255;\nconst Matrix = new Matrix4();\nconst isTouchDevice =\n  \"ontouchstart\" in window ||\n  navigator.MaxTouchPoints > 0 ||\n  navigator.msMaxTouchPoints > 0;\n\nclass Soundsphere extends Component {\n  constructor(props) {\n    super(props);\n\n    this.animator = new Animator();\n\n    this.animate = this.animate.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseOut = this.onMouseOut.bind(this);\n    this.onDO = this.onDO.bind(this);\n    this.onDM = this.onDM.bind(this);\n    this.onMO = this.onMO.bind(this);\n\n    this.scene = new Scene();\n\n    this.camera = new PerspectiveCamera(50, 1, 1, 1000);\n    this.camera.position.z = 600;\n    this.scene.add(this.camera);\n\n    this.group = new Group();\n    this.scene.add(this.group);\n    this.meshes = [];\n\n    for (let i = 0; i < BAR_COUNT; i++) {\n      let x = 0;\n      let y = Math.random() * 2 - 1;\n      let z = -(i / BAR_COUNT) * Math.PI * 2;\n\n      let geometry = new BoxGeometry(50, 10, 10);\n      geometry.applyMatrix(Matrix.makeTranslation(25, 5, 5));\n\n      let mesh = new Mesh(geometry, new MeshNormalMaterial());\n      mesh.position.set(0, 0, 0);\n      mesh.rotation.set(x, y, z);\n      mesh.scale.set(1, 1, 1);\n      this.group.add(mesh);\n\n      this.meshes.push(mesh);\n    }\n\n    this.rotationX = 0;\n    this.rotationY = 0;\n  }\n\n  animate(width, height, timeDiff) {\n    const { group, rotationX, rotationY, audio, ascii } = this;\n\n    group.rotation.x += (rotationX - group.rotation.x) * timeDiff * 4;\n    group.rotation.y += (rotationY - group.rotation.y) * timeDiff * 4;\n\n    let data = audio.getAudioData();\n\n    if (data.length >= BAR_COUNT) {\n      for (var i = 0; i < BAR_COUNT; i++) {\n        this.meshes[i].scale.x = Math.max(1, data[i] / 50);\n      }\n    }\n\n    ascii.update();\n  }\n\n  onResize() {\n    this.ascii.update();\n  }\n\n  onMouseMove(event) {\n    this.rotationX = (event.clientY - window.innerHeight / 2) * 0.001;\n    this.rotationY = (event.clientX - window.innerWidth / 2) * 0.001;\n  }\n\n  onMouseOut() {\n    this.rotationX = 0;\n    this.rotationY = 0;\n  }\n\n  onDO({ beta, gamma }) {\n    this.tilt({ x: beta, y: gamma });\n  }\n\n  onDM({ accelerationIncludingGravity: e }) {\n    this.tilt({ x: e.x * 2, y: e.y * 2 });\n  }\n\n  onMO({ x, y }) {\n    this.tilt({ x: x * 50, y: y * 50 });\n  }\n\n  tilt({ x, y }) {\n    this.rotationX = x * 0.02;\n    this.rotationY = y * 0.02;\n  }\n\n  start() {\n    this.animator.start();\n  }\n\n  componentDidMount() {\n    const { canvas, ascii } = this;\n\n    canvas.renderer.setClearColor(0xffffff);\n\n    ascii.setCanvas(canvas.canvas);\n\n    if (isTouchDevice) {\n      if (window.DeviceOrientationEvent) {\n        window.addEventListener(\"deviceorientation\", this.onDO, true);\n      } else if (window.DeviceMotionEvent) {\n        window.addEventListener(\"devicemotion\", this.onDM, true);\n      } else {\n        window.addEventListener(\"MozOrientation\", this.onMO, true);\n      }\n    } else {\n      document.addEventListener(\"mousemove\", this.onMouseMove, false);\n      document.addEventListener(\"mouseout\", this.onMouseOut, false);\n    }\n  }\n\n  componentWillUnmount() {\n    const { animator } = this;\n\n    if (isTouchDevice) {\n      if (window.DeviceOrientationEvent) {\n        window.removeEventListener(\"deviceorientation\", this.onDO);\n      } else if (window.DeviceMotionEvent) {\n        window.removeEventListener(\"devicemotion\", this.onDM);\n      } else {\n        window.removeEventListener(\"MozOrientation\", this.onMO);\n      }\n    } else {\n      document.removeEventListener(\"mousemove\", this.onMouseMove);\n      document.removeEventListener(\"mouseout\", this.onMouseOut);\n    }\n\n    animator.stop();\n  }\n\n  render() {\n    const { animator, scene, camera, props } = this;\n    const { onReady } = props;\n\n    return (\n      <div id=\"soundsphere\">\n        <div id=\"canvas-wrapper\" ref={w => (this.wrapper = w)}>\n          <ThreeCanvas\n            id=\"canvas\"\n            ref={c => (this.canvas = c)}\n            scene={scene}\n            camera={camera}\n            animator={animator}\n            animate={this.animate}\n          />\n          <CanvasASCII id=\"canvas-ascii\" ref={a => (this.ascii = a)} />\n        </div>\n        <AudioPlayer\n          ref={a => (this.audio = a)}\n          animator={animator}\n          onReady={onReady}\n        />\n      </div>\n    );\n  }\n}\n\nSoundsphere.propTypes = {\n  onReady: PropTypes.func\n};\n\nexport default Soundsphere;\n","import React, { Component } from \"react\";\nimport ClassNames from \"classnames\";\nimport { isReady } from \"jw-audio\";\n\nimport Soundsphere from \"./soundsphere\";\n\nimport \"./app.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onReady = this.onReady.bind(this);\n    this.onClick = this.onClick.bind(this);\n\n    this.state = { ready: false, interacted: false };\n  }\n\n  onReady() {\n    this.setState({ ready: true });\n  }\n\n  onClick() {\n    if (this.state.ready) {\n      setTimeout(() => {\n        if (isReady()) {\n          this.soundsphere.start();\n          this.setState({ interacted: true });\n        }\n      });\n    }\n  }\n\n  render() {\n    const { ready, interacted } = this.state;\n\n    return (\n      <div id=\"app\">\n        <Soundsphere ref={s => (this.soundsphere = s)} onReady={this.onReady} />\n        <div id=\"start-overlay\" className={ClassNames({ interacted })}>\n          <div id=\"start-button\" onClick={this.onClick}>\n            {ready ? \"Start\" : \"Loading...\"}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport { render } from \"react-dom\";\n\nimport App from \"./app\";\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}